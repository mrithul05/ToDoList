<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </meta>
    <title>Settings Page</title>
    <link rel="stylesheet" href="css/settings.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">

    </head>
    <body>
        <di class="container">
            <button class="settingone">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 20.67C14.81 20.67 14.62 20.6 14.47 20.45L7.95003 13.93C6.89003 12.87 6.89003 11.13 7.95003 10.07L14.47 3.55002C14.76 3.26002 15.24 3.26002 15.53 3.55002C15.82 3.84002 15.82 4.32002 15.53 4.61002L9.01003 11.13C8.53003 11.61 8.53003 12.39 9.01003 12.87L15.53 19.39C15.82 19.68 15.82 20.16 15.53 20.45C15.38 20.59 15.19 20.67 15 20.67Z" fill="#000" fill-opacity="0.87"/>
                </svg>
            </button>
            <h1 id="#settings-heading">Settings</h1>
         <div class="settings">
            <div class="second">
                <label>Settings</label>
            </div>
            <div class="options">
            <div class="third">
                <div class="one">
                <svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#8d6cc6" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
                     <circle cx="12" cy="12" r="10"/>
                     <path d="M2 12h20"/>
                     <path d="M12 2a15.3 15.3 0 0 1 0 20"/>
                     <path d="M12 2a15.3 15.3 0 0 0 0 20"/>
                </svg>
               <span>Choose App Language</span>
                </div>
                <button class="langtwo">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="#8d6cc6" aria-label="Right caret" role="img">
                    <polygon points="8,5 16,12 8,19"/>
                  </svg>
                </button>
                  
            </div>
            <!-- Modal for Change App Language -->
<div class="language-overlay"></div>
<div class="language-box">
  <span class="langclose">&times;</span>
  <h2>Change App Language</h2>
  <select id="language-select">
    <option value="en">English</option>
    <option value="es">Spanish</option>
    <option value="fr">French</option>
    <option value="de">German</option>
  </select>
  <button id="save-language-btn">Save</button>
</div>
            <div class="four">
                <div class="one">
                 <svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#8d6cc6" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="4" y="4" width="6" height="6" rx="2"/>
                   <rect x="14" y="4" width="6" height="6" rx="2"/>
                    <rect x="4" y="14" width="6" height="6" rx="2"/>
                     <rect x="14" y="14" width="6" height="6" rx="2"/>
                </svg>
                <span>Change theme color</span>
                </div>
                <button class="two">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="#8d6cc6" aria-label="Right caret" role="img">
                    <polygon points="8,5 16,12 8,19"/>
                  </svg>
                </button>
                  
            </div>
            
                   
            
                
            </div>
            <!-- Modal for Change App Color -->
<div class="color-overlay"></div>
<div class="color-box">
  <span class="colorclose">&times;</span>
  <h2>Change App Color</h2>
  <input type="color" id="color-picker" value="#8d6cc6">
  <button id="save-color-btn">Save</button>
</div>
         </div>

            <div class="settings">
            <div class="eight">
                <span>Import</span>
            </div>
            <div class="options">
            <div class="nine">
                <div class="one">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.26 22.2498H8.73998C3.82998 22.2498 1.72998 20.1498 1.72998 15.2398V15.1098C1.72998 10.6698 3.47998 8.52978 7.39998 8.15978C7.79998 8.12978 8.17998 8.42978 8.21998 8.83978C8.25998 9.24978 7.95998 9.61978 7.53998 9.65978C4.39998 9.94978 3.22998 11.4298 3.22998 15.1198V15.2498C3.22998 19.3198 4.66998 20.7598 8.73998 20.7598H15.26C19.33 20.7598 20.77 19.3198 20.77 15.2498V15.1198C20.77 11.4098 19.58 9.92978 16.38 9.65978C15.97 9.61978 15.66 9.25978 15.7 8.84978C15.74 8.43978 16.09 8.12978 16.51 8.16978C20.49 8.50978 22.27 10.6598 22.27 15.1298V15.2598C22.27 20.1498 20.17 22.2498 15.26 22.2498Z" fill="#9473be" fill-opacity="0.87"/>
                    <path d="M12 15.63C11.59 15.63 11.25 15.29 11.25 14.88V2C11.25 1.59 11.59 1.25 12 1.25C12.41 1.25 12.75 1.59 12.75 2V14.88C12.75 15.3 12.41 15.63 12 15.63Z" fill="#9473be" fill-opacity="0.87"/>
                    <path d="M12.0001 16.7498C11.8101 16.7498 11.6201 16.6798 11.4701 16.5298L8.12009 13.1798C7.83009 12.8898 7.83009 12.4098 8.12009 12.1198C8.41009 11.8298 8.89009 11.8298 9.18009 12.1198L12.0001 14.9398L14.8201 12.1198C15.1101 11.8298 15.5901 11.8298 15.8801 12.1198C16.1701 12.4098 16.1701 12.8898 15.8801 13.1798L12.5301 16.5298C12.3801 16.6798 12.1901 16.7498 12.0001 16.7498Z" fill="#9473be" fill-opacity="0.87"/>
                </svg>
             <span>Import from Google Calendar</span>
                </div>  
                <div class="two"> 
                <svg width="30" height="30" viewBox="0 0 24 24" fill="#8d6cc6" aria-label="Right caret" role="img">
                    <polygon points="8,5 16,12 8,19"/>
                  </svg>
                </div>
                      
            </div>
            
            </div>


        </div>
      <script>
          const languageOverlay=document.querySelector('.language-overlay');
          const languageBox=document.querySelector('.language-box');
          const langCloseButton=document.querySelector('.langclose');
          const languageButton=document.querySelector('.langtwo');
          const saveLanguageButton=document.getElementById('save-language-btn');
          const languageSelect = document.getElementById('language-select');
          
          // Open the language modal
languageButton.addEventListener("click", () => {
  const savedLanguage = localStorage.getItem("appLanguage") || "en";
  languageSelect.value = savedLanguage; // Set the current language
  languageOverlay.style.display = "block";
  languageBox.style.display = "block";
});

// Close the language modal
langCloseButton.addEventListener("click", () => {
  languageOverlay.style.display = "none";
  languageBox.style.display = "none";
});


const translations = {
  en: {
    profile: "Profile",
    tasksLeft: "Tasks left",
    tasksDone: "Tasks done",
    settings: "Settings",
    changeAccountName: "Change Account Name",
    changeAccountPassword: "Change Account Password",
    changeAccountImage: "Change Account Image",
    changeAccountMail: "Change Account Mail",
    aboutUs: "About Us",
    helpFeedback: "Help & Feedback",
    supportUs: "Support Us",
    privacySecurity: "Privacy & Security",
    logout: "LogOut",
  },
  de: {
    profile: "Profil",
    tasksLeft: "Aufgaben übrig",
    tasksDone: "Aufgaben erledigt",
    settings: "Einstellungen",
    changeAccountName: "Kontonamen ändern",
    changeAccountPassword: "Kontopasswort ändern",
    changeAccountImage: "Konto-Bild ändern",
    changeAccountMail: "Kontomail ändern",
    aboutUs: "Über uns",
    helpFeedback: "Hilfe & Feedback",
    supportUs: "Unterstützen Sie uns",
    privacySecurity: "Datenschutz & Sicherheit",
    logout: "Abmelden",
  },

  fr: {
  profile: "Profil",
  tasksLeft: "Tâches restantes",
  tasksDone: "Tâches terminées",
  settings: "Paramètres",
  changeAccountName: "Changer le nom du compte",
  changeAccountPassword: "Changer le mot de passe du compte",
  changeAccountImage: "Changer l'image du compte",
  changeAccountMail: "Changer le mail du compte",
  aboutUs: "À propos de nous",
  helpFeedback: "Aide & Retour",
  supportUs: "Soutenez-nous",
  privacySecurity: "Confidentialité & Sécurité",
  logout: "Se déconnecter",
},
  // Add more languages here
};

function updateLanguage(language) {
  const elements = {
    profile: document.querySelector(".first .profile"),
    tasksLeft: document.querySelector(".third .taskleft"),
    tasksDone: document.querySelector(".third .taskdone"),
    settings: document.querySelector(".fourth p"),
    changeAccountName: document.querySelector(".name .one span"),
    changeAccountPassword: document.querySelector(".password .one span"),
    changeAccountImage: document.querySelector(".image .one span"),
    changeAccountMail: document.querySelector(".mail .one span"),
    aboutUs: document.querySelector(".aboutus .one span"),
    helpFeedback: document.querySelector(".feedback .one span"),
    supportUs: document.querySelector(".support .one span"),
    privacySecurity: document.querySelector(".privacy .one span"),
    logout: document.querySelector(".logout .one span"),
  };

  const translation = translations[language];
  console.log("Updating language to:", language);
  console.log("Translation object:", translation);
  

  for (const key in elements) {
    if (elements[key]) {
      console.log("Updating:", key, "to", translation[key]);
      elements[key].textContent = translation[key];
    }
    else {
    console.warn("Missing element for key:", key);
  }
  }
}

// Save the selected language
saveLanguageButton.addEventListener("click", () => {
  const selectedLanguage = languageSelect.value;
  localStorage.setItem("appLanguage", selectedLanguage); // Save to localStorage
    updateLanguage(selectedLanguage); // Update the language immediately
  alert(`Language changed to ${selectedLanguage}`);
  languageOverlay.style.display = "none";
  languageBox.style.display = "none";
});

//Load the saved language on page load
document.addEventListener("DOMContentLoaded", () => {
  const savedLanguage = localStorage.getItem("appLanguage") || "en";
  updateLanguage(savedLanguage); // Apply saved language
});


// Change App Color
const colorOverlay = document.querySelector(".color-overlay");
const colorBox = document.querySelector(".color-box");
const colorButton = document.querySelector(".four .two");
const colorCloseButton = document.querySelector(".colorclose");
const saveColorButton = document.getElementById("save-color-btn");
const colorPicker = document.getElementById("color-picker");

// Open the color modal
          
colorButton.addEventListener("click", () => {
  const savedColor = localStorage.getItem("appColor") || "#8d6cc6";
  colorPicker.value = savedColor; // Set the current color
  colorOverlay.style.display = "block";
  colorBox.style.display = "block";
});

// Close the color modal
colorCloseButton.addEventListener("click", () => {
  colorOverlay.style.display = "none";
  colorBox.style.display = "none";
});

// Save the selected color
saveColorButton.addEventListener("click", () => {
  const selectedColor = colorPicker.value;
  localStorage.setItem("appColor", selectedColor); // Save to localStorage
  document.body.style.setProperty("--app-color", selectedColor); // Apply the color
  alert(`App color changed to ${selectedColor}`);
  colorOverlay.style.display = "none";
  colorBox.style.display = "none";
});

// Apply saved settings on page load
document.addEventListener("DOMContentLoaded", () => {
  const savedLanguage = localStorage.getItem("appLanguage") || "en";
  const savedColor = localStorage.getItem("appColor") || "#8d6cc6";
  document.body.style.setProperty("--app-color", savedColor); // Apply saved color
});

// Redirect to the previous page
document.querySelector(".settingone ").onclick = () => {
        if (document.referrer) {
          // If there is a referrer, navigate to it
          window.location.href = document.referrer;
        } else {
          // If no referrer is available, navigate to a default page
          window.location.href = "homescreen.html"; // Replace with your default page
        }
      };


      </script>
    </body>
</html>